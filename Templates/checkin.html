<!DOCTYPE html>
<html>
<head>

<style>
  .submit_align{
    position: absolute;
    top: 22px;
  }
   #map-canvas {
        width: 500px;
        height: 400px;
      }
</style>

<script src="/static/js/post.js"></script>
<script src="https://maps.googleapis.com/maps/api/js"></script>
<script>
      function initialize() {
        var mapCanvas = document.getElementById('map-canvas');
        var mapOptions = {
          center: new google.maps.LatLng(44.5403, -78.5463),
          zoom: 8,
          mapTypeId: google.maps.MapTypeId.ROADMAP
        }
        var map = new google.maps.Map(mapCanvas, mapOptions)
      }
      google.maps.event.addDomListener(window, 'load', initialize);
    </script>
<script>
function submit_form()
{
  var $phone = $('#phone').val();
  var data = {
      'phone': $phone,
    };

    $.ajax({
                      type: "POST",
                      url: "/refer",
                      data: data,
                      success: function(result){
                          alert(result);
                      },
                      error: function(error) {
                          alert("Message Delivery Failed"); 
                      } 
                  });
}

function submit_qrcode()
{
  var params = {}
  params["qrcode"] = document.getElementById("qrcode").value;
  post_internal("/qrcode", params, "POST");
}

function post_internal(path, params, method) {
    method = method || "post"; // Set method to post by default if not specified.

    // The rest of this code assumes you are not using a library.
    // It can be made less wordy if you use one.
    var form = document.createElement("form");
    form.setAttribute("method", method);
    form.setAttribute("action", path);
    form.setAttribute("enctype", "multipart/form-data")

    for(var key in params) {
        if(params.hasOwnProperty(key)) {
            var hiddenField = document.createElement("input");
            hiddenField.setAttribute("type", "hidden");
            hiddenField.setAttribute("name", key);
            hiddenField.setAttribute("value", params[key]);

            form.appendChild(hiddenField);
         }
    }

    document.body.appendChild(form);
    form.submit();
}

</script>

  <!-- Standard Meta -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <!-- Site Properities -->
  <title>Kitchen Sink - Semantic</title>

  <link rel="stylesheet" type="text/css" href="/static/css/semantic.css">
  <link rel="stylesheet" type="text/css" href="/static/css/kitchensink.css">

  <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.js"></script>

  <!-- Used with Tab History !-->
  <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery.address/1.6/jquery.address.min.js"></script>
  <script src="/static/js/semantic.js"></script>
</head>

<body id="sink">

<div class="ui grid">
<div class="row">
<div class="six wide column"></div>
<div class="four wide column">
<div class="ui card">
  <div class="image">
    <div class="ui dimmer">
      <div class="content">
          <div class="center">
              <div class="ui inverted button">Add Friend</div>
          </div>
       </div>
    </div>
     <img src="/static/images/wireframe/image.png">
  </div>
  <div class="content">
    <div class="header">Dhondu Hotel</div>
  </div>

</div>
</div>
<div class="six wide column"></div>
</div>
</div>

<div class="ui grid">
      
  <div class="row">
    <div class="two wide column">
    </div>
    <div class="twelve wide column">
      <div class="ui form segment">
        <div class="ui grid">
          <div class="row">
            <div class="fourteen wide column">            
              <div class="field">
                <label>To refer a friend, enter their phone number</label> 
                  <input type="text" id="phone">
              </div>
            </div>
          <div class="two wide column">
            <div class="submit_align">
            <div class="ui button" onclick="submit_form()">Submit</div>
            </div>
          </div>
        </div>
      </div>
      <form action="http://www.cs.tut.fi/cgi-bin/run/~jkorpela/echo.cgi" enctype="multipart/form-data" method="post" > 
      <div class="ui grid">
          <div class="row">
            <div class="fourteen wide column">

              <div class="field">
              <label>Upload QR code image here</label> 
                  <input class="ui button" type="file" name="datafile" size="40">
              </div>
            </div>
            <div class="two column wide">
            <input class="ui button"  type="submit" value="Submit">
          </div>
        </div>
      </div>
      </form>
       </div>   
    
    </div>
    <div class="two wide column">
    </div>
  </div>

  </div>

  <div class="ui grid">
    <div class="row">
      <div class="two wide column">
      </div>
      <div class="twelve wide column" align="center">
        <div id="map-canvas" ></div>
      </div>
      <div class="two wide column">
      </div>
    </div>
  </div>
<!--form enctype="multipart/form-data" method="post" action="http://zxing.org/w/decode">
<input name="f" type="file"/>
<input type="submit"/>
</form-->

</body>
</html>